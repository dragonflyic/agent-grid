# === Required ===

# GitHub fine-grained PAT (needs Issues: Read, Contents: Read & Write, Pull Requests: Read & Write)
AGENT_GRID_GITHUB_TOKEN=github_pat_...

# Anthropic API key (for issue classification and planning)
AGENT_GRID_ANTHROPIC_API_KEY=sk-ant-api03-...

# Target repository to monitor (owner/repo)
AGENT_GRID_TARGET_REPO=myorg/myrepo

# === Fly.io (required for spawning worker machines) ===

# Fly API token (from `fly tokens create org`)
AGENT_GRID_FLY_API_TOKEN=...

# Fly app name for worker machines
AGENT_GRID_FLY_APP_NAME=agent-grid-workers

# Docker image for workers (push to Fly registry)
AGENT_GRID_FLY_WORKER_IMAGE=registry.fly.io/agent-grid-workers:latest

# === Optional ===

# GitHub webhook secret (for verifying webhook payloads)
# AGENT_GRID_GITHUB_WEBHOOK_SECRET=whsec_...

# Database URL (default: local PostgreSQL)
# AGENT_GRID_DATABASE_URL=postgresql://postgres:dev@localhost:5433/agent_grid

# Deployment mode: "local" (in-process agents) or "coordinator" (Fly Machines)
# AGENT_GRID_DEPLOYMENT_MODE=local

# Fly worker resources
# AGENT_GRID_FLY_WORKER_CPUS=2
# AGENT_GRID_FLY_WORKER_MEMORY_MB=4096
# AGENT_GRID_FLY_WORKER_REGION=iad

# Claude models for classification/planning
# AGENT_GRID_CLASSIFICATION_MODEL=claude-sonnet-4-5-20250929
# AGENT_GRID_PLANNING_MODEL=claude-sonnet-4-5-20250929

# Cost controls
# AGENT_GRID_MAX_TOKENS_PER_RUN=100000
# AGENT_GRID_MAX_COST_PER_DAY_USD=50.0
# AGENT_GRID_MAX_RETRIES_PER_ISSUE=2

# Dry run mode (reads from GitHub, logs writes to file instead of executing)
# AGENT_GRID_DRY_RUN=true
# AGENT_GRID_DRY_RUN_OUTPUT_FILE=dry_run_output.jsonl
